<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>

        .wrapper {
            position: relative;
            margin: auto;
            text-align: center;
            width: 100%;
        }

        .tooltips {
            visibility: hidden;

        }
    </style>
</head>
<body>

<div class="wrapper">
    <a class="link" href="">
        <span class="tooltips">Tool tips</span>
        <p data-tips-title="I made it!" class="targetLink">hello this is a link</p>
    </a>

</div>

<div class="wrapper">
    <a class="link" href="">
        <span class="tooltips">Tool tips</span>
        <p data-tips-title="abc" class="targetLink"> hello this is a link</p>
    </a>

</div>

<div class="wrapper">
    <a class="link" href="">
        <span class="tooltips">Tool tips</span>
        <p data-tips-title="Leon!" class="targetLink">hello this is a link</p>
    </a>

</div>

<div class="wrapper">
    <a class="link" href="">
        <span class="tooltips">Tool tips</span>
        <p data-tips-title="hello world!" class="targetLink">hello this is a link</p>
    </a>

</div>

</body>
<script>

  //  var elements = document.querySelectorAll('.link');

  //  for (var i = 0; i < elements.length; i++) {
  //    elements[i].addEventListener('mouseover', function (event) {
  //      var clickedElement = event.target;
  //      if (clickedElement.tagName == 'P') {
  //        event.currentTarget.querySelector('.tooltips').style.visibility = 'visible';
  //      }
  //
  //    });
  //
  //    elements[i].addEventListener('mouseout', function (event) {
  //      var clickedElement = event.target;
  //      if (clickedElement.tagName == 'P') {
  //        event.currentTarget.querySelector('.tooltips').style.visibility = 'hidden';
  //      }
  //    });
  //  }

  function asyncFn() {
    var promise = new Promise(function (resolve, reject) {
      setTimeout(function () {
        console.log('asyncFn1 is done');
        resolve(Math.floor(Math.random() * 100));
      }, 3000)
    });
    return promise;
  }
  var promise = asyncFn();


  document.querySelector('body').addEventListener('mouseover', function (event) {
    var clickedElement = event.target;
    if (clickedElement.className == 'targetLink') {
      promise.then(function (res) {

        var text = clickedElement.getAttribute('data-tips-title');
      var tooltipsEle = clickedElement.parentNode.querySelector('.tooltips');
      tooltipsEle.style.visibility = 'visible';

        tooltipsEle.innerText = text.concat(res)
      });

    }


  });

  document.querySelector('body').addEventListener('mouseout', function (event) {
    var clickedElement = event.target;
    if (clickedElement.className == 'targetLink') {
      clickedElement.parentNode.querySelector('.tooltips').style.visibility = 'hidden';

    }
  });
</script>
</html>